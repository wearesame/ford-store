<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title><%= title %></title>

  <!-- Tailwind / style ของคุณ -->
  <link rel="stylesheet" href="/style.css" />

  <!-- Tippy.js + Popper -->
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <script src="https://unpkg.com/tippy.js@6"></script>

  <!-- animation (optional แต่สวย) -->
  <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/animations/scale.css">
</head>

<body>
  <div class="pt-15 max-w-6xl mx-auto">
    <h1 class="text-xl font-bold mb-2"><%= title %></h1>
    <p class="mb-4 text-gray-500">ทุกอย่างทำงานได้อิอิ</p>

    <div
      class="grid grid-cols-5 gap-2 *:rounded *:p-2 *:border *:border-black/10 *:bg-[var(--bg-surface)] *:shadow">

      <% products.forEach(product => { %>
        <div class="flex flex-col justify-between">
          <img class="rounded mb-1" src="<%= product.image %>" alt="">

          <!-- product card -->
          <div
            class="product-card w-full cursor-pointer mt-1"
            data-name="<%= product.name %>"
            data-description="<%= product.description %>"
          >
            <h2 class="font-bold truncate">
              <%= product.name %>
            </h2>

            <h3 class="line-clamp-2 text-[12px] text-black/60">
              <%= product.description %>
            </h3>
          </div>

          <div class="mt-1 font-semibold">
            $<%= product.price %>
          </div>

          <a href="/product/<%= product.id %>" class="btn-primary mt-2">
            <i class="ph ph-shopping-cart"></i> ซื้อเลย
          </a>
        </div>
      <% }) %>

    </div>
  </div>

  <!-- Tippy init -->
  <script>
    tippy('.product-card', {
      content(reference) {
        return `
          <strong>${reference.dataset.name}</strong><br>
          ${reference.dataset.description}
        `;
      },
      allowHTML: true,
      animation: 'scale',
      placement: 'auto',
      delay: [200, 0],
      maxWidth: 320,
      theme: 'dark',
    });
  </script>
</body>

</html>
